+++
title = "ğŸ“re-frame"
tags = ["WIKI"]
draft = false
+++

-   refs
    -   [ğŸ·ClojureScript]({{< relref "20220514174914.md" >}})
    -   [ğŸ”—re-frame: Resources](https://day8.github.io/re-frame/External-Resources/)
    -   [ğŸ“ClojureScript Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º]({{< relref "20220520203304.md" >}})


## re-frameã¨ã¯ {#re-frameã¨ã¯}

[reagent]({{< relref "20220520203304.md#reagent" >}}) ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸWebé–‹ç™ºç”¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯.

-   [re-frame: Official Doc](http://day8.github.io/re-frame/re-frame/)


## Getting Started {#getting-started}

ref. [Overview](http://day8.github.io/re-frame/api-intro/)

```clojure
(ns my-app.some-namespace
  (:require [re-frame.core :as rf]))
```


## è¨­è¨ˆæ€æƒ³ | A Data Loop {#è¨­è¨ˆæ€æƒ³-a-data-loop}

ref. [A Data Loop](http://day8.github.io/re-frame/a-loop/), [Infographics(æ¦‚å¿µã®å›³è§£)](http://day8.github.io/re-frame/event-handling-infographic/)

re-frameã¯å˜ã«ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’ã—ã¦ã„ã‚‹ã«ã™ããªã„. ãã—ã¦æ°´ãŒæµ·ã‹ã‚‰é›²ã«ãªã‚Šé›¨ã«å¤‰ã‚ã£ã¦å·ã«ãªã‚Šæµ·ã¸æˆ»ã‚‹ã‚ˆã†ã«å¾ªç’°ã™ã‚‹ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚‚å¾ªç’°ã™ã‚‹(å˜æ–¹å‘ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼).

re-frameã§ã¯6ã¤ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã«åˆ†ã‘ã¦ã„ã‚‹.

1.  Event dispatch
2.  Event handling
3.  Effect handling
4.  Query
5.  View
6.  DOM

1-3ã¯å¤–éƒ¨ã¨ã®å‰¯ä½œç”¨ãŒã‚ã‚‹ä¸–ç•Œ. ã¨ã—ã¦4-6ã¯Reactã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§æœ‰åãª **v = f(s)** ã®æ€æƒ³. vã¯view, fã¯function, sã¯state.

re-frameã®ä¸€ã¤ã®ç›®æ¨™ã¯UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰çŠ¶æ…‹ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨.


## å®Ÿè£…ã®æµã‚Œ {#å®Ÿè£…ã®æµã‚Œ}

ä»¥ä¸‹, ç´°ã‹ãå®Ÿè£…ãƒ¬ãƒ™ãƒ«ã§å‡¦ç†ã‚’ã¿ã¦ã„ããŒã¯ã˜ã‚ã«å…¨ä½“åƒã‚’ã¾ã¨ã‚ã‚‹.

GitHubã«ã‚ã‚‹ [event handlerå®Ÿè£…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://github.com/day8/re-frame/blob/master/docs/EffectfulHandlers.md)ã‚‚å‚ç…§.

ãŸã¶ã‚“ã©ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚‚ã“ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«åã¨å®Ÿè£…ã‚’ã—ã¦ã„ã‚‹ã®ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒãã†ãªã£ã¦ã„ã‚‹ã®ã‹ãªï¼Ÿ(ã‚ã¨ã§èª¿æŸ».. )

-   db.cljs
    -   çŠ¶æ…‹ç®¡ç†ã®dbã‚’å®šç¾©.
-   events.cljs
    -   reg-event-dbé–¢æ•°ã‚’åˆ©ç”¨ã—ã¦ dbæ“ä½œã®ãŸã‚ã®eventã‚’ç™»éŒ².
-   subs.cljs
    -   reg-subsé–¢æ•°ã‚’åˆ©ç”¨ã—ã¦ dbã‹ã‚‰æƒ…å ±å–å¾—ã™ã‚‹queryã‚’ç™»éŒ².
-   views.cljs
    -   event handlerã‚„subscriptionã‚’ç”¨ã„ã¦æƒ…å ±ã‚’ç”»é¢ã«æå†™.


### db {#db}

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚’ **db** ã¨ã„ã†ãƒãƒƒãƒ—ã‚’ä¿æŒã™ã‚‹å˜ä¸€ã®Reagent atomã§é›†ä¸­ç®¡ç†ã™ã‚‹.


### event/event handler {#event-event-handler}

çŠ¶æ…‹(db)ã®å¤‰æ›´ã¯ **event** ã§è¡Œã†. **[<event-id> <arg>\*]** ã¨ã„ã†å½¢å¼ã®ãƒ™ã‚¯ã‚¿ãƒ¼ã¨ã—ã¦è¡¨ç¾.

**re-frame/reg-event-db** ã®é–¢æ•°ã§ **db** ã¨ **event** ã‚’å¼•æ•°ã«ã¨ã£ã¦æ–°ã—ã„dbã‚’è¿”ã™é–¢æ•°ã‚’ **event handler** ã¨ã—ã¦ç™»éŒ².

ä»¥ä¸‹ãŒåŸºæœ¬ã®å‹. (fn ... ) ã¯ç´”ç²‹é–¢æ•°ã¨ã—ã¦è¨˜è¿°ã—ã¦å‰¯ä½œç”¨ã§ã‚ã‚‹DBæ›´æ–°ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ä»»ã›ã‚‹.

```clojure
(re-frame.core/reg-event-db
  <event-id>
  (fn [<db> <event>
    <db>))
```


### query/subscription {#query-subscription}

**query** ã¯ dbã‹ã‚‰æƒ…å ±ã‚’å–å¾—ã—ã¦ **view** ã«æå†™ã™ã‚‹é–¢æ•°. **[<query-id> <arg>\*]** ã¨ã„ã†å½¢å¼ã®ãƒ™ã‚¯ã‚¿ãƒ¼ã§è¡¨ç¾ã•ã‚Œã‚‹.

**re-frame/reg-sub** ã®é–¢æ•°ã§ **db** ã¨ **query** ã‚’å¼•æ•°ã«ã¨ã£ã¦ä»»æ„ã®å€¤ã‚’è¿”ã™é–¢æ•°ã‚’ **subscription** ã¨ã—ã¦ç™»éŒ².

```clojure
(re-frame.core/reg-sub
  <query-id>
  (fn [<db> <query>]
    <value>))
```

view ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯æœ€å°é™ã«ã—db ãƒ‡ãƒ¼ã‚¿ã®åŠ å·¥ã¯ subscription ã«é›†ç´„ã™ã‚‹ã®ãŒã‚ˆã„([keep views as simple as possible](https://github.com/day8/re-frame/blob/v0.10.5/docs/SubscriptionsCleanup.md)).


### view {#view}

ç”»é¢ã‚’æ§‹ç¯‰ã™ã‚‹.

è¨€ã„æ›ãˆã‚Œã° [reagent]({{< relref "20220520203304.md#reagent" >}})ã‚’ã¤ã‹ã„Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹.

ãªã«ã‹ã®æ“ä½œã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹eventã‚’ **re-frame.core/dispatch <event>)**  ã§é€ä¿¡ã™ã‚‹.

ã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±or å®šæœŸç›£è¦–ã§çŠ¶æ…‹å¤‰æ›´ã‚’æ¤œå‡ºã—ãŸã‚‰ ãã®å€¤ã‚’subscriptionçµŒç”±ã§ **@(re-frame.core/subscribe <query>)** ã§å—ä¿¡.


## see also {#see-also}

ä»¥ä¸‹ã¯æ—¥æœ¬èªè¨˜äº‹. ãã‚‚ãã‚‚æƒ…å ±ãŒå°‘ãªã„ä¸Šã«å¤ã„ã‚‚ã®ãŒã‚ã‚‹.

-   [Reâˆ’frame å…¥é–€ - Qiita](https://qiita.com/snufkon/items/1d409c984faaa3c390a1)
    -   TODOã‚¢ãƒ—ãƒªã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«. ã“ã®ãã‚‰ã„ç°¡å˜ã ã¨å…¥é–€ã«ã¯ã‚ˆã„.
    -   <https://github.com/snufkon/re-frame-todolist>
-   [ClojureScript/re-frameé–‹ç™ºã«ãŠã‘ã‚‹æ€è€ƒãƒ•ãƒ­ãƒ¼ - Qiita](https://qiita.com/lagenorhynque/items/3770e520bee0007e417c)
    -   ã˜ã‚ƒã‚“ã‘ã‚“ã‚¢ãƒ—ãƒªã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«.
-   [ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã¨ re-frame - Qiita](https://qiita.com/MeguruMokke/items/78ff972bbd4efe3e1398)
    -   ãã“ãã“æœ¬æ ¼çš„ãªã‚¢ãƒ—ãƒªã®ClojureScriptéƒ¨åˆ†.
-   [re-frameã«ã‚ˆã‚‹SPAã®é–‹ç™º - Qiita](https://qiita.com/yoshidan/items/9d570bbef2f4e68b09e6)
    -   SPAé–‹ç™ºã«ãŠã‘ã‚‹æ³¨æ„ç‚¹ã®ãƒˆãƒ”ãƒƒã‚¯.
-   [re-frame+integrant ã«ã‚ˆã‚‹ ClojureScript SPA é–‹ç™º - Qiita](https://qiita.com/223kazuki/items/ce1680dc54ff8fe4770c)
    -   [ClojureScript ã«ã‚ˆã‚‹ SPA ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰² - Qiita](https://qiita.com/223kazuki/items/dd1af292a644e95a3085)
