+++
tags = ["WIKI"]
draft = false
+++

Clojureã®ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œä»–.

up: [ğŸ“‚Clojure Core Languages]({{< relref "20220112142936.md" >}})

ã‚ã¾ã‚Šèª¿æŸ»ã—ã¦ã„ãªã„ã‘ã©ãŸã¶ã‚“ã ã„ãŸã„ãŒJavaã®Clojureãƒ©ãƒƒãƒ‘ãƒ¼ã ã¨æ€ã†. ã¨ã„ã†ã“ã¨ã¯å›°ã£ãŸã‚‰Javaã‚’èª¿ã¹ã‚Œã°è‰¯ã„. ãŸã Javaã¯ Java7ä»¥é™ã®nioã¨ãã‚Œä»¥å‰ãŒã‚ã‚Šå°‘ã—ã‚„ã‚„ã“ã—ã„(Javaã¨Fileå‘¨ã‚Šã¯ è‹¦åŠ´ ã—ãŸã®ã§è©³ã—ã„).


## clojure.core {#clojure-dot-core}


### slurp {#slurp}

å¼•æ•°ã§ä¸ãˆã‚‰ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§æ–‡å­—åˆ—ã‚’è¿”ã™.


### with-open {#with-open}


## clojure.java.io {#clojure-dot-java-dot-io}


### clojure.java.io/file {#clojure-dot-java-dot-io-file}

java.io.Fileã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹.

```clojure
(require '[clojure.java.io :as io])

(io/file "config.edn")
;; => #object[java.io.File 0x71fda6e1 "config.edn"]

(io/resource "config.edn")
;; => #object[java.net.URL 0x7f3b3463 "file:/home/tsu-nera/hogehoge/resources/config.edn"]
```

-   io/fileã§Javaã®Fileã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†.
-   io/resourceã§ resource-pathã«ã‚ã‚‹Fileã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†.

---

ãƒ¡ãƒ¢, ã“ã‚Œã¯Java7ã§å°å…¥ã•ã‚ŒãŸ java.nio.fileã¨ã¯é•ã†ã“ã¨ã«æ³¨æ„.
æ˜”Javaã®ãƒ•ã‚¡ã‚¤ãƒ«å‘¨ã‚Šã¯ã‘ã£ã“ã†èª¿ã¹ã¦æ¥­å‹™çš„ã«è©³ã—ã‹ã£ãŸã“ã¨ã‚’æ€ã„å‡ºã—ãŸ.

-   [ğŸ–ŠJava7 ã® Java.nio.file.Files ã§ ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ”ãƒ¼ã‚’ã—ã¦ã¿ã‚‹ | Futurismo](https://futurismo.biz/archives/2976/)


### clojure.java.io/resource {#clojure-dot-java-dot-io-resource}

<https://clojuredocs.org/clojure.java.io/resource>

ã“ã“ã§ã„ã†resourceã¨ã¯, Javaã®ä»•çµ„ã¿ã®ï¼‘ã¤.
Javaãƒªã‚½ãƒ¼ã‚¹ã¨ã¯ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã«ã‚ã‚‹.classãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–ã®å®Ÿè¡Œæ™‚ã«ä½¿ã†ãƒ‡ãƒ¼ã‚¿.

-   <https://docs.oracle.com/javase/jp/1.5.0/guide/lang/resources.html>
-   <https://www.ne.jp/asahi/hishidama/home/tech/java/resource.html>

---

clojureã®resourceã«é–¢ã™ã‚‹æƒ…å ±ã¯æ¼ã£ã¦ã‚‚ã¿ã¤ã‹ã‚‰ãªã„ã®ã ãŒ,
deps.ednã ã¨ :pathsã«å«ã¾ã‚Œã‚‹.classãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–ãªã‚‰ã„ã„ã®ã‹ï¼Ÿ


### clojure.java.io/reader, clojure.java.io/writer {#clojure-dot-java-dot-io-reader-clojure-dot-java-dot-io-writer}

java.io.BufferedReader/BufferedWriterã‚’æ‰±ã†.


### clojure.java.io/input-stream, clojure.java.io/output-stream {#clojure-dot-java-dot-io-input-stream-clojure-dot-java-dot-io-output-stream}

java.io.BufferedInputStream/BufferedOutputStreamã‚’æ‰±ã†.


## Clojure Fileæ“ä½œ Howto {#clojure-fileæ“ä½œ-howto}


### ãƒãƒƒãƒˆä¸Šã®ç”»åƒã‚’URIã‚’æŒ‡å®šã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ {#ãƒãƒƒãƒˆä¸Šã®ç”»åƒã‚’uriã‚’æŒ‡å®šã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„}

```clojure
 (defn copy [uri file]
  (with-open [in (io/input-stream uri)
              out (io/output-stream file)]
    (io/copy in out)))
```

ref. [In Clojure, how do you download an image from the web and save it to your file system? - Stack Overflow](https://stackoverflow.com/questions/15628682/in-clojure-how-do-you-download-an-image-from-the-web-and-save-it-to-your-file-s)


## References {#references}

-   <https://clojuredocs.org/clojure.java.io>
-   [Clojureã®å…¥å‡ºåŠ›ã®é–¢æ•°ã¨IOFactoryãƒ—ãƒ­ãƒˆã‚³ãƒ« - Qiita](https://qiita.com/hatappo/items/e292bd2132a89cfd6761)
