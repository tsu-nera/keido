+++
title = "ğŸ“Clojure Product Development"
tags = ["WIKI"]
draft = false
+++

up: [ğŸ“‚Clojure Development]({{< relref "20220211141917.md" >}}) tags: [ğŸ·Clojure]({{< relref "20211111225741.md" >}})

Clojureãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã§å½¹ç«‹ã¤ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¾ã¨ã‚.

å¿…è¦ã«å¿œã˜ã¦ãƒˆãƒ”ãƒƒã‚¯ã”ã¨ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨.

-   refs:
    -   [ğŸ“Clojure Web Development]({{< relref "20220118092453.md" >}}) => Webé–¢ä¿‚ã¯ã“ã£ã¡
    -   [ğŸ“Clojure API Client Development]({{< relref "20220209102028.md" >}}) => Client APIé–¢ä¿‚ã¯ã“ã£ã¡
    -   [ğŸ“Clojure Style Rules & Conventions]({{< relref "20220313110515.md" >}}) => ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚„æ…£ç¿’ã¯ã“ã£ã¡
    -   [ğŸ“Clojure Architecture]({{< relref "20220314120812.md" >}}) => è¨­è¨ˆå‘¨ã‚Š


## Clojure: Backend Framework {#697917}


### Clojure: Duct {#d8c00c56-21de-485d-af41-01f920cd7c7f}

-   <https://github.com/duct-framework>
    -   <https://github.com/duct-framework/core>

[Integrant]({{< relref "20220531084041.md" >}}) ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸæ‹¡å¼µæ©Ÿèƒ½ã‚’æä¾›(ä½œè€…ãŒåŒã˜).
Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ãªãã‚‚ã£ã¨æ±ç”¨çš„ãªã‚‚ã®.

-   [Ductãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å…¥é–€](https://www.slideshare.net/KentOhashi/duct-module-getting-started)
-   [ã¯ã˜ã‚ã¦ã®Duct - Uzabase for Engineers](https://tech.uzabase.com/entry/2018/04/03/115236)
-   [Document how to use duct with tools.deps - GitHub](https://github.com/duct-framework/duct/issues/92)


#### <span class="org-todo todo _">ğŸ’¡</span> Javaã‹ã‚‰ã®ã‚¢ãƒŠãƒ­ã‚¸ãƒ¼ {#455157}

å°ã•ãªæ§‹æˆã®ã‚·ã‚¹ãƒ†ãƒ ã‚’Javaã§ä½œæˆã™ã‚‹ãªã‚‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã«ã‚¯ãƒ©ã‚¹åˆ†å‰²ã™ã‚‹ãŒ,
Ductã¯ã‚¯ãƒ©ã‚¹ã«åˆæœŸåŒ–ãƒ‡ãƒ¼ã‚¿ã¨ãã®æ–¹æ³•ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã‹?
è²¬å‹™ã‚’æ„è­˜ã—ãŸã‚¯ãƒ©ã‚¹è¨­è¨ˆã¨ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†å‰².


### Clojure: Roll {#21f47f3d-586b-4b9b-a42a-b5cc9d04b913}

<https://github.com/dimovich/roll>

backend for Clojure. Ductã‚ˆã‚Šã‚‚ã•ã‚‰ã«ã‚·ãƒ³ãƒ—ãƒ«, integrantãŒãƒ™ãƒ¼ã‚¹.


## Clojure: çŠ¶æ…‹ç®¡ç†ã¨ã‚·ã‚¹ãƒ†ãƒ  {#19f383}

ã„ã‚ã„ã‚ã‚ã‚‹ãŒãƒŠã‚¦ã„ã®ã¯Integrantã‹ãªï¼Ÿ

-   [stuartsierra/component](https://github.com/stuartsierra/component)
-   [tolitius/mount](https://github.com/tolitius/mount)
-   [weavejester/integrant](https://github.com/weavejester/integrant/projects?type=beta)
    -   [ğŸ“Clojure Integrant]({{< relref "20220531084041.md" >}})

çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã¯é–¢æ•°å‹ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ å›ºæœ‰ã®ã‚‚ã®ã‹ãªï¼Ÿ Reduxçš„ãª.


### Clojure: Component {#df5f054f-57e7-441a-a196-f65bb8b478fb}

[Stuart Sierra]({{< relref "20220320182327.md" >}}) ä½œ.


### ãã‚‚ãã‚‚ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã¯ {#284f08}

ã‚·ã‚¹ãƒ†ãƒ ã¯ãã‚‚ãã‚‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒé•·ã„é–“èµ·å‹•ã—ã¦ã„ã‚‹ã¨ãã«å¿…è¦ã¨ãªã‚‹è€ƒãˆ. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®å®Ÿè¡Œã§ã¯å¿…è¦ãªã„ã®ã . ãã‚Œã‚‰ã¯å‡¦ç†ã®çµ‚äº†ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ‚äº†ã§ã‚ã‚Šãƒªã‚½ãƒ¼ã‚¹ã®é–‹æ”¾ã§ã‚ã‚‹.

ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œã‚’ã—ç¶šã‘ã‚‹éƒ¨åˆ†ã§æ§‹æˆã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³, ãã®éƒ¨åˆ†ãŒä¾å­˜é–¢ä¿‚ã«ã‚ã‚ŠåˆæœŸåŒ–æ™‚ã«é–¢ä¿‚ã‚’æ§‹ç¯‰ã™ã‚‹ã‚‚ã®, ã“ã‚ŒãŒã‚·ã‚¹ãƒ†ãƒ .

ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã™ã‚‹éƒ¨å“=ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å˜ç´”åŒ–ã™ã‚Œã°, On/Offã®æ“ä½œã«ã‚ˆã‚‹StatefulãªObjectã§ã‚ã‚‹.

ref: [Systems in Clojure](https://grishaev.me/en/clj-book-systems/)


## Clojure: ãƒ­ã‚®ãƒ³ã‚°(Logging) {#fc3521e8-72f6-4416-83b2-067344374a9a}

Javaã®è³‡ç”£ã‚’ä½¿ã†ã‹å¦ã‹ãŒæ¡ç”¨ã®ãƒã‚¤ãƒ³ãƒˆã‹ãªï¼ŸJavaã®ãƒ­ã‚®ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯æ­´å²ãŒã‚ã‚‹.

timbreã¯pure clojureã§ã¯ã‚ã‚‹ãŒ, ã‚„ã¯ã‚Šè¨­å®šä¾‹ã‚„ãƒã‚¦ãƒã‚¦ãŒGoogleæ¤œç´¢ã§è¦‹ã¤ã‹ã‚‹ã®ã¯, Javaãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¤šã„(logback).


### clojure.tools.logging {#72b25d3f-8637-4735-960b-c44af8418aa2}

clojure tools.logging libaryã§Javaã®è³‡ç”£ã‚’æ´»ç”¨.

-   official docs
    -   <https://github.com/clojure/tools.logging>
    -   <https://clojure.github.io/tools.logging/>

---

-   ref:
    -   [ğŸ–ŠLogbackã®ãƒ­ã‚°ã‚’è¦‹ã‚„ã™ãã™ã‚‹æ–¹æ³•(ãƒ•ã‚¡ã‚¤ãƒ«ã‚’grep, Lilith) | Futurismo](https://futurismo.biz/archives/6825/)
    -   [Quickly Set up Clojure Logging with the Right Library](https://spin.atomicobject.com/2015/05/11/clojure-logging/)
    -   [Clojure Log Configuration](https://www.solasistim.net/posts/clojure_log_configuration/)
    -   <https://github.com/pyr/unilog>
        -   clojure.tools.loggingæ‹¡å¼µ?


### Clojure: timbre {#c0af56ee-9d64-4846-9b1b-3f49881a3801}

Pure Clojure/Script logging library.

[GitHub - ptaoussanis/timbre: Pure Clojure/Script logging library](https://github.com/ptaoussanis/timbre)

[slf4j-timbre](https://github.com/fzakaria/slf4j-timbre) ã‚’ã¤ã‹ã†ã¨Javaã®ãƒ­ã‚®ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨é€£æºå¯èƒ½.

æ—¥æœ¬ã®æ™‚åˆ»è¨­å®šä¾‹:

```clojure
(def timbre-config
  {:timestamp-opts
   {:pattern  "yyyy-MM-dd HH:mm:ss,SSS"
    :locale   (java.util.Locale. "ja_JP")
    :tiemzone (java.util.TimeZone/getTimeZone "Asia/Tokyo")}})
(timbre/merge-config! timbre-config)
```

ã¾ãŸç¾å®Ÿçš„ãªå•é¡Œç‚¹ã¨ã—ã¦, timbreã¯pure clojureã§ã¯ã‚ã‚‹ã‚‚ã®ã®, 3rd party libraryãŒjavaã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨,ãã®åˆ¶å¾¡ã‚’timbreã‹ã‚‰ã¯ã§ããªã„(Javaã‹ã‚‰ç‹¬ç«‹ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ©ç‚¹ãªã®ã§). ãã®ãŸã‚çµå±€ logback.xmlã‚’æ›¸ã‹ãªã„ã¨ã„ã‘ãªã„ã‹ã‚‚ã—ã‚Œãªã„.

<https://github.com/ptaoussanis/timbre/issues/138>

(ãªã‚“ã‹cider-nreplã¨ã®ç›¸æ€§ãªã®ã‹ CIDEEç’°å¢ƒã§errorãŒå‹•ä½œã—ãªã„. ã“ã‚Œã¯stderrã®æ‰±ã„ã‹ã‚‚ã—ã‚Œãªã„).


### <span class="org-todo todo _">ğŸ’¡</span> tips: Jetty ã‚µãƒ¼ãƒã®ãƒ­ã‚°ã‚’é»™ã‚‰ã›ã‚‹ {#3f41ba}

jetty serverã‚’èµ·å‹•ã—ãŸã‚Šclj-httpã‚’ä½¿ã†ã¨REPLã‚’ä¾µé£Ÿã™ã‚‹å•é¡Œ.

ä»¥ä¸‹ã¯logback.xmlã‚’è¨­å®šã™ã‚‹ä¾‹.

-   [Pedestalã®ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ãŒã†ã‚‹ã•ã„ã®ã§ã€é™ã‹ã«ã—ãŸ - ayato-p](https://scrapbox.io/ayato-p/Pedestal%E3%81%AE%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%83%AD%E3%82%B0%E3%81%8C%E3%81%86%E3%82%8B%E3%81%95%E3%81%84%E3%81%AE%E3%81%A7%E3%80%81%E9%9D%99%E3%81%8B%E3%81%AB%E3%81%97%E3%81%9F)
    -   <https://twitter.com/_ayato_p/status/1115059001459335168>
-   [Basic logging in Clojure web service not appearing on console - Stack Overflow](https://stackoverflow.com/questions/31371993/basic-logging-in-clojure-web-service-not-appearing-on-console)

timbre

-   [Noisy Netty logs show up after adopting this library Â· Issue #32 Â· fzakaria/slf4j-timbre Â· GitHub](https://github.com/fzakaria/slf4j-timbre/issues/32)


## References {#d95867}

-   [The Clojure Toolbox](https://www.clojure-toolbox.com/)
    -   é€†å¼•ãã®Clojure Libraryã¾ã¨ã‚ãƒšãƒ¼ã‚¸.
