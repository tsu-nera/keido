+++
title = "ğŸ“Sphinx"
tags = ["WIKI"]
draft = false
+++

Pythonè£½ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã‚¨ãƒ³ã‚¸ãƒ³åŠã³ã‚µã‚¤ãƒˆ.


## Sphinx Tips {#sphinx-tips}


### howto: Sphinxã®Themeã‚’å¤‰æ›´ã™ã‚‹ã«ã¯? {#howto-sphinxã®themeã‚’å¤‰æ›´ã™ã‚‹ã«ã¯}

read: [ãƒ†ãƒ¼ãƒã®å¤‰æ›´ â€” Pythonè£½ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼ã€Sphinxã®æ—¥æœ¬ãƒ¦ãƒ¼ã‚¶ä¼š](https://sphinx-users.jp/cookbook/changetheme/index.html)


### tip: Markdownã§Sphinxãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãæ–¹æ³• {#tip-markdownã§sphinxãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãæ–¹æ³•}

MyST-Parserã¨ã„ã†æ‹¡å¼µã‚’åˆ©ç”¨ã™ã‚‹.

note: recommonmarkã‚’ä½¿ã†æ–¹æ³•ã¯æƒ…å ±ãŒå¤ã„(2021)

links

-   [Markdown â€” Sphinx documentation](https://www.sphinx-doc.org/en/master/usage/markdown.html) - å…¬å¼
-   [Get started with MyST in Sphinx](https://myst-parser.readthedocs.io/en/latest/sphinx/intro.html) - MySTå…¬å¼ã«ã‚ˆã‚‹Sphinxå°å…¥æ–¹æ³•


### tip: Emacs Org-modeã§Sphinxãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãæ–¹æ³• {#tip-emacs-org-modeã§sphinxãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãæ–¹æ³•}


#### howto: Emacs Org-modeã‹ã‚‰reSTãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã«ã¯? {#howto-emacs-org-modeã‹ã‚‰restãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã«ã¯}

ox-rstã‚’ã¤ã‹ã†(<https://github.com/msnoigrs/ox-rst>).

org-exportã®é …ç›®ã¨ã—ã¦reSTã¸ã®å‡ºåŠ›ã‚’çµ„ã¿è¾¼ã‚€ã“ã¨ãŒã§ãã‚‹.ã¾ãŸã¯ï¼ŒM-x org-rst-export-to-rst ã‚³ãƒãƒ³ãƒ‰ã§Org fileã‚’reST fileå¤‰æ›ã—ã¦å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒå¯èƒ½.

ox-rstã§å‡ºåŠ›ã•ã‚Œã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç´°ã‹ãè¨­å®šã™ã‚‹ã«ã¯ï¼Œorg-modeã®exportè¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹(<https://orgmode.org/manual/Export-Settings.html>).

ãŸã¨ãˆã°ï¼Œ

-   author:nilã§, authorã®exportã‚’æŠ‘æ­¢.
-   num:nilã§, headlineã®ãƒŠãƒ³ãƒãƒªãƒ³ã‚°ã‚’æŠ‘æ­¢.

<!--listend-->

```text
#+OPTIONS: author:nil num:nil
```


#### howto: ox-rstã‚’CLIã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã«ã¯? {#howto-ox-rstã‚’cliã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã«ã¯}

emacsã‚’ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰

```sh
emacs $1 --batch --eval="(load \"~/.emacs.d/.local/straight/repos/ox-rst/ox-rst.el\")" -f org-rst-export-to-rst --kill
```

link: <https://github.com/msnoigrs/ox-rst/issues/55#issuecomment-917417497>


#### howto: Emacs Org exportã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã™ã‚‹ã«ã¯? {#howto-emacs-org-exportã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã™ã‚‹ã«ã¯}

`EXPORT_FILE_NAME` ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ã«è¨­å®šã™ã‚‹.

```text
#+EXPORT_FILE_NAME: ~/repo/futurismo-wiki/sphinx.rst
```


#### howto: Org fileã®ä¸­ã«Sphinxã®æ–‡æ³•ã‚’æ›¸ãã«ã¯? {#howto-org-fileã®ä¸­ã«sphinxã®æ–‡æ³•ã‚’æ›¸ãã«ã¯}

**BEGIN\_EXAMPLE rst** ã‚’æ›¸ã.

```text
  --  #+BEGIN_EXPORT rst
  --  .. class:: alert
  --  #+END_EXPORT
```


### howto: Sphinxã‚’Netlifyã«Hostingã™ã‚‹ã«ã¯? {#howto-sphinxã‚’netlifyã«hostingã™ã‚‹ã«ã¯}

Sphinxã¯ãƒ“ãƒ«ãƒ‰ã§ç”Ÿæˆã•ã‚Œã‚‹~\_build/html~ã‚’ãã®ã¾ã¾å…¬é–‹ã™ã‚Œã°[Netlify](https://www.netlify.com/)ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã§ãã‚‹.
ã“ã®æ–¹æ³•ã®å¬‰ã—ã„ã¨ã“ã‚ã¯ï¼ŒNetlifyã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãŒç„¡æ–™ã§ã§ãã‚‹ã¨ã„ã†ã“ã¨ã .

base directoryã« requirements.txtã¨runtime.txtã‚’é…ç½®ã™ã‚‹.

```sh
$ cat requirements.txt
sphinx

$ cat runtime.txt
3.8
```

ã‚ã¨ã¯ï¼Œ~sphinx-build {source dir} {dest dir}~ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼Œ\_build/htmlç›¸å½“ã®ã‚‚ã®ãŒ{dest dir}ã«ã§ãã‚‹.
ã“ã‚Œã‚’ï¼ŒDeploy settingsã®build commandã«è¨­å®šã™ã‚Œã°ã‚ˆã„.

link: [Manage build dependencies | Netlify Docs](https://docs.netlify.com/configure-builds/manage-dependencies/#python)


#### notes: package.jsonã‚’ã¤ã‹ã£ãŸè‡ªå‹•åŒ–ã®ä¾‹ {#notes-package-dot-jsonã‚’ã¤ã‹ã£ãŸè‡ªå‹•åŒ–ã®ä¾‹}

å‚è€ƒã¾ã§ã«ï¼Œã‚ãŸã—ã¯package.jsonã‚’é…ç½®ã™ã‚‹ã“ã¨ã§ï¼Œnpm scriptã§ãƒ“ãƒ«ãƒ‰ã‚’èµ°ã‚‰ã›ã‚‹ã“ã¨ã«ã—ãŸ.

```javascript
{
  "scripts": {
    "hugo": "hugo",
    "wiki": "sphinx-build wiki public/wiki",
    "deploy": "npm run hugo && npm run wiki"
  }
}
```


### howto: Sphinxã«Google Analyticsã‚’åŸ‹ã‚è¾¼ã‚€ã«ã¯? {#howto-sphinxã«google-analyticsã‚’åŸ‹ã‚è¾¼ã‚€ã«ã¯}

ãƒ†ãƒ¼ãƒã®layout.htmlã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚ªãƒªã‚¸ãƒŠãƒ«ã®layout.htmlã‚’ä½œæˆã™ã‚‹.

rootã®ä¸‹ã®\_templatesã«layout.htmlã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¼‰.

```html
{%- extends "!layout.html" %}
{{ super() }}
{%- block extrahead %}
<!-- ã“ã“ã«Google Analyticsã‚¿ã‚°è¿½åŠ  -->
{% endblock %}
```

link: [Google Analyticsã®ã‚¿ã‚°ã‚’åŸ‹ã‚è¾¼ã‚€ â€” Sphinxã‚’ä½¿ã£ã¦ã¿ã‚ˆã†](http://bacchus.ivory.ne.jp/vodka/doc/sphinx-analytics.html)


### howto: Sphinxã®ãƒšãƒ¼ã‚¸ã«Google Adsenseã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã«ã¯? {#howto-sphinxã®ãƒšãƒ¼ã‚¸ã«google-adsenseã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã«ã¯}

åŸºæœ¬çš„ã«ã¯([howto: Sphinxã«Google Analyticsã‚’åŸ‹ã‚è¾¼ã‚€ã«ã¯?](#howto-sphinxã«google-analyticsã‚’åŸ‹ã‚è¾¼ã‚€ã«ã¯))ã«åŒã˜.
rootã®ä¸‹ã®\_templatesã«ä¸Šæ›¸ãã—ãŸã„htmlã‚’ä½œæˆã™ã‚‹.

link: [Google Analyticsã‚„Google Adsenceã‚’è²¼ã‚ŠãŸã„ - Sphinxã®æ—¥æœ¬ãƒ¦ãƒ¼ã‚¶ä¼š](https://sphinx-users.jp/reverse-dict/html/google.html)


#### example: page.htmlã‚„searchbox.htmlã®ç¶™æ‰¿ {#example-page-dot-htmlã‚„searchbox-dot-htmlã®ç¶™æ‰¿}

ãŸã¨ãˆã°ï¼Œç§ã®å ´åˆã¯ [Sphinx Basic Theme](https://github.com/sphinx-doc/sphinx/tree/4.x/sphinx/themes/basic) ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ï¼ŒGitHubã‹ã‚‰ä¸Šæ›¸ãã—ãŸpage.htmlã¨searchbox.htmlã‚’ãã‚Œãã‚Œã‚³ãƒ”ãƒ¼ã—ã¦\_templatesé…ä¸‹ã«é…ç½®ã—ã¦ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«Google Adsenseã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ãŸ. ä»¥ä¸‹ã¯page.htmlã®ä¾‹.

```html
{%- extends "layout.html" %}
{% block body %}
  {{ body }}
  <!-- ã“ã“ã«Google Adsenseã‚¿ã‚°è¿½åŠ  -->
{% endblock %}
```


### howto: Sphinxã«ã‚µã‚¤ãƒˆãƒãƒƒãƒ—(sitemap.xml)ã‚’è¿½åŠ ã™ã‚‹ã«ã¯? {#howto-sphinxã«ã‚µã‚¤ãƒˆãƒãƒƒãƒ—--sitemap-dot-xml--ã‚’è¿½åŠ ã™ã‚‹ã«ã¯}

sphinx-sitemapã¨ã„ã†extentionsã‚’ä½¿ã†.

link: <https://pypi.org/project/sphinx-sitemap/>


## å‚ç…§ {#å‚ç…§}

-   [Sphinx | Futurismo](https://futurismo.biz/tags/sphinx/) - æ˜”ã®ç§ã®è¨˜äº‹ã ã‘ã©2014ã ã‹ã‚‰æƒ…å ±ãŒå¤ã„.


## å‚è€ƒæ–‡çŒ® {#å‚è€ƒæ–‡çŒ®}

-   [Sphinx documentation](https://www.sphinx-doc.org) - å…¬å¼ã‚µã‚¤ãƒˆ(en)
    -   [Sphinx ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.sphinx-users.jp/) - æ—¥æœ¬èªã¯ã‚³ã‚³
-   [sphinx-doc/sphinx](https://github.com/sphinx-doc/sphinx) - GitHub
-   [Sphinx-Users.jp](https://sphinx-users.jp/index.html) - Sphinxã®æ—¥æœ¬ãƒ¦ãƒ¼ã‚¶ä¼š
